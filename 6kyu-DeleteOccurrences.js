// https://www.codewars.com/kata/554ca54ffa7d91b236000023/train/javascript

// p: array of ints
// r: array of ints
// e: [1,2,3,1,2,1,2,3] , 2 =>  [1,2,3,1,2]

// function deleteNth(arr, n) {
//   const uniqueNum = [...arr]
//     .sort((a, b) => a - b)
//     .filter((e, i, array) => e !== array[i + 1]);
//   for (let i = 0; i < uniqueNum.length; i++) {
//     let count = 0;
//     for (let j = 0; j < arr.length; j++) {
//       arr[j] === uniqueNum[i] && count++;
//       if (count > n) {
//         arr.splice(j, 1);
//         j--;
//         count--;
//       }
//     }
//   }
//   return arr;
// }

///////// better solutoin:
function deleteNth(arr, x) {
  var cache = {};
  return arr.filter(function (n) {
    cache[n] = (cache[n] || 0) + 1;
    return cache[n] <= x;
  });
}
function deleteNth(arr, x) {
  const cache = {};
}

// deleteNth([1, 2, 3, 1, 2, 1, 2, 3], 2);
// deleteNth(
//   [
//     27, 27, 45, 27, 33, 33, 33, 36, 33, 36, 33, 15, 17, 36, 17, 27, 27, 45, 36,
//     36, 19, 22, 45, 15, 33, 15, 36, 17, 17, 27, 45, 45, 33, 15, 45, 45, 36, 15,
//     45, 17, 33, 45, 15, 45, 17, 15, 27, 33, 27, 17, 17,
//   ],
//   6
// );
//              [27, 27, 45, 27, 33, 33, 33, 36, 33, 36, 33, 15, 17, 36, 17, 27, 27, 45, 36, 36, 19, 22, 45, 15, 33, 15, 36, 17, 17, 27, 45, 45, 33, 15, 45, 45, 36, 15, 45, 17, 33, 45, 15, 45, 17, 15, 27, 33, 27, 17, 17]
// Expected:    [27, 27, 45, 27, 33, 33, 33, 36, 33, 36, 33, 15, 17, 36, 17, 27, 27, 45, 36, 36, 19, 22, 45, 15, 33, 15, 36, 17, 17, 27, 45, 45, 15, 45, 15, 17, 15, 17]
//              [27, 27, 45, 27, 33, 33, 33, 36, 33, 36, 33, 15, 17, 36, 17, 27, 27, 45, 36, 36, 19, 22, 45, 15, 33, 15, 36, 17, 17, 27, 45, 45, 15, 45, 15, 17, 15, 17];

deleteNth(
  [
    16, 12, 46, 12, 16, 16, 46, 22, 41, 41, 46, 22, 46, 22, 46, 46, 28, 46, 34,
    28, 41, 46, 34, 41, 16, 46, 34, 12, 46, 34, 41, 46, 46, 16, 16, 46, 34, 41,
    37, 16, 46, 12, 41, 41, 46, 22, 46, 46, 34,
  ],
  9
);
//              [16, 12, 46, 12, 16, 16, 46, 22, 41, 41, 46, 22, 46, 22, 46, 46, 28, 46, 34, 28, 41, 46, 34, 41, 16, 46, 34, 12, 46, 34, 41, 46, 46, 16, 16, 46, 34, 41, 37, 16, 46, 12, 41, 41, 46, 22, 46, 46, 34]
// Expected:    [16, 12, 46, 12, 16, 16, 46, 22, 41, 41, 46, 22, 46, 22, 46, 46, 28, 46, 34, 28, 41, 46, 34, 41, 16, 46, 34, 12, 34, 41, 16, 16, 34, 41, 37, 16, 12, 41, 41, 22, 34]
// instead got: [16, 12, 46, 12, 16, 16, 46, 22, 41, 41, 46, 22, 46, 22, 46, 46, 28, 46, 34, 28, 41, 46, 34, 41, 16, 46, 34, 12, 34, 41, 16, 16, 34, 41, 37, 16, 12, 41, 41, 22, 34]
